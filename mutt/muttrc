# Who am I
set realname = "Sencer Selcuk"
set imap_user     = "sselcuk"
alternates 'sselcuk@.*princeton.edu'
source "gpg --no-tty -d ~/.mutt/passwords.gpg 2>/dev/null |" # password from an encrypted file

# Princeton IMAP Settings
#
set folder           = imaps://exchangeimap.princeton.edu:993/
mailboxes            = +INBOX +Archives/2015 +Archives/2014 +Archives/Research +Drafts
set spoolfile        = +INBOX
set postponed        = +Drafts
set record           = +Sent\ Items
set trash            = +Deleted\ Items
set ssl_starttls     = yes
set imap_keepalive   = 300
set mail_check       = 120
set timeout          = 1

set header_cache     = ~/.cache/mutt
set message_cachedir = ~/.cache/mutt
set noimap_passive
set nomove

# SMTP settings
set smtp_url              = smtp://sselcuk@smtp.princeton.edu:587
set from                  = "sselcuk@princeton.edu"
set use_from              = yes
set ssl_force_tls         = yes
set ssl_min_dh_prime_bits = 128
set editor                = "vim -S '~/.mutt/mutt.vim' -c 'startinsert'"
set text_flowed
set pipe_decode
set pipe_sep = "\n#### NEXT MAIL ####\n"

bind index,pager <F5> imap-fetch-mail
bind index G last-entry
macro compose Y "<first-entry>F markdown\ny^T^Utext/html; charset=utf-8\n\n<send-message>" "send as html mail"
macro compose a "<attach-file>?c~<Enter>"
macro index,pager s "<save-message>?<toggle-mailboxes>" "save message to a folder"
macro index,pager C "<copy-message>?<toggle-mailboxes>" "copy message to a folder"
macro index,pager A <save-message>=Archives/`date +%Y`\n
macro index,pager,attach <F12> "<copy-message>/tmp/mutttmpbox\n<enter><shell-escape>~/.mutt/viewhtmlmail.py\n" "View HTML in browser"
macro index,pager } "<pipe-entry>~/.mutt/create_event\n"

color normal     color238 color254
color indicator  color254 color238
color markers    color238 color254
color quoted     color067 color254
color attachment color031 color254
color tree       color238 color254
color status     color254 color024
color tilde      color238 color254
color error      color254 color124
color message    color124 color254
color signature  color238 color254

color index      color238 color254 ~A
color index      color253 color014 '~N'
color index      color135 color254 '~O'
color index      color254 color009 ~D
color index      color166 color254 ~T
color index      color161 color254 ~F
color hdrdefault color254 color025
color header     color011 color025 ^(Cc|Reply-To):

color body       color124 color254 [\-\.+_a-zA-Z0-9]+@[\-\.a-zA-Z0-9]+
color body       color072 color254 (https?|ftp)://[\-\.,/%~_:?&=\#a-zA-Z0-9]+
color bold       color039 color254
color underline  color141 color254

set nomarkers
# set nosidebar_visible
# set sidebar_delim = " "
set index_format = "%4C %Z %-20.20L %s" # "%?X?[%X]& ?" for attachments.
set status_format = "%r--[%f]--[Msgs:%?M?%M/?%m%?n? New:%n?%?o? Old:%o?%?d? Del\
:%d?%?F? Flag:%F?%?t? Tag:%t?%?p? Post:%p?%?b? Inc:%b?%?l? %l?]---(%s/%S)-%>-(%\
P)---"
set status_chars = " +%A"
set status_on_top
set to_chars = " >~c<l"
set wrap = 100
set query_command = "~/bin/ph %s 2>/dev/null"
alternative_order text/html text/enriched text/plain
set autoedit
set edit_headers
set fast_reply
set nobeep
set beep_new
set nowait_key
set menu_scroll
set narrow_tree
set nosig_dashes
set sig_on_top
set signature = 'echo "\nSencer\n" |'
set ignore_linear_white_space
set delete
set quit = ask-yes
set mime_forward = ask-no
set auto_tag
set noconfirmappend
set pager_context=2
set pager_index_lines=10
set pager_stop
set sort=threads
set sort_aux=reverse-last-date-received
set ispell="aspell -e -c"
# set arrow_cursor if set, reverse fg/bg colors
set uncollapse_jump #jump to first unread in the thread.
set tilde
set abort_nosubject = ask-no
set history = 100
set save_history = 1000
set history_file = ~/.dotfiles/tmp/mutt_history
set alias_file   = ~/.mutt/aliases
set reverse_alias
source $alias_file
set forward_quote
set forward_format = "Fwd: %s"
set include
auto_view text/html
auto_view text/calendar
auto_view application/msword
