set realname = "Sencer Selcuk"
set imap_user     = "sselcuk"
alternates 'sselcuk@.*princeton.edu'
source "gpg --no-tty -d ~/.mutt/passwords.gpg 2>/dev/null |"
set folder        = imaps://exchangeimap.princeton.edu:993/
set spoolfile     = +INBOX
mailboxes         = +INBOX +Archives/2014 +Archives/Research +Drafts +Deleted\ Items
set postponed     = +Drafs
set record        = +Sent\ Items
set trash         = +Deleted\ Items
set ssl_starttls=yes

# Store message headers locally to speed things up.
# If hcache is a folder, Mutt will create sub cache folders for each account which may speeds things even more up.
set header_cache = ~/.cache/mutt
# Store messages locally to speed things up, like searching message bodies.
# Can be the same folder as header_cache.
# This will cost important disk usage according to your e-mail amount.
set message_cachedir = "~/.cache/mutt"
unset imap_passive # Allow Mutt to open new imap connection automatically.
set imap_keepalive = 300  # Keep IMAP connection alive by polling intermittently (time in seconds).
set mail_check = 120 # How often to check for new mail (time in seconds).
set nomove      # Keeps message MAIL, don't ask moving them anywhere when quitting
unset mark_old  # Don't mark as old when moving over them with the cursor
set implicit_autoview

set from = "sselcuk@princeton.edu"
set use_from = yes
set smtp_url=smtp://sselcuk@smtp.princeton.edu:587
set ssl_force_tls = yes
set ssl_min_dh_prime_bits = 128

set editor=vim

set sidebar_visible = yes
macro index b '<enter-command>toggle sidebar_visible<enter><refresh>'
macro pager b '<enter-command>toggle sidebar_visible<enter><redraw-screen>'
# Ctrl-n, Ctrl-p to select next, previous folder.
# Ctrl-o to open selected folder.
bind index,pager \CP sidebar-prev
bind index,pager \CN sidebar-next
bind index,pager \CO sidebar-open
# bind index 

color normal     color069 color187
color indicator  color069 color187
color markers    color069 color187
color quoted     color067 color187
color attachment color167 color187
color tree       color069 color187
color status     color187 color72
color tilde      color069 color187
color error      color187 color124
color message    color124 color187
color signature  color069 color187

color index      color069 color187 ~A
color index      color187 color124 ~D
color index      color090 color187 ~T
color index      color124 color187 ~F
color hdrdefault color187 color72
color header     color160 color72 ^(Cc|Reply-To):

  color body       color124 color187 [\-\.+_a-zA-Z0-9]+@[\-\.a-zA-Z0-9]+
  color body       color072 color187 (https?|ftp)://[\-\.,/%~_:?&=\#a-zA-Z0-9]+
  color bold       color039 color187
  color underline  color141 color187

  set index_format = "%4C %Z %-20.20L %s"
  set status_format = "%r %f [Msgs:%?M?%M/?%m%?n? New:%n?%?o? Old:%o?%?d? Del:%d?%?F? Flag:%F?%?t? Tag:%t?%?p? Post:%p?%?b? Inc:%b?%?l? %l?]---(%s/%S)-%>-(%P)---"
  set status_chars = " +%A"

  set noconfirmappend # Don't ask when appending (saving) messages to existing folder/mailbox
  set pager_context=1 # Show 3 lines overlap in the message view pager
  set pager_index_lines=8
  set pager_stop # Don't jump to next message at the end of a message
  set fast_reply # Don't ask from To or Subj on reply
  set sort=reverse-threads
  set ispell="aspell -e -c"
  bind pager <up> previous-line
  bind pager <down> next-line
  set arrow_cursor
  set uncollapse_jump #jump to first unread in the thread.
  set tilde
# set abort_nosubject=no
# set delete=yes
  set auto_tag=yes
  auto_view text/html
